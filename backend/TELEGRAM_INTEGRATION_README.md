# Telegram Integration –¥–ª—è NeonCasino

## –û–±–∑–æ—Ä

–ú—ã —É—Å–ø–µ—à–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª–∏ –ø–æ–ª–Ω—É—é –ª–æ–≥–∏–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ Telegram –±–æ—Ç, –æ—Å–Ω–æ–≤–∞–Ω–Ω—É—é –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ –ø—Ä–æ–µ–∫—Ç–∞ `prop`. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∞–¥–º–∏–Ω–∞–º –≤ Telegram —á–∞—Ç –ø—Ä–∏ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–æ–±—ã—Ç–∏—è—Ö.

## –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. TelegramBotService (`backend/telegram_bot_new/services.py`)
- –°–µ—Ä–≤–∏—Å –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω—Å–∫–∏–π Telegram —á–∞—Ç
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏–∏ –º–µ—Ç–æ–¥–æ–≤
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, KYC –∑–∞—è–≤–∫–∞—Ö –∏ –ø–ª–∞—Ç–µ–∂–∞—Ö
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ inline –∫–Ω–æ–ø–æ–∫ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (`backend/users/signals.py`)
- **KYC –∑–∞—è–≤–∫–∏** (`backend/kyc/signals.py`) 
- **–ü–ª–∞—Ç–µ–∂–∏** (`backend/payments_new/signals.py`)

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `registration_ip` –≤ –º–æ–¥–µ–ª—å `User`
- –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ –ø–æ–ª—è –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –∫–∞—Ä—Ç –∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤

### 4. Telegram Bot (`backend/telegram_bot_new/bot.py`)
- –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±–æ—Ç —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ –∏ KYC —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏
- –ö–æ–º–∞–Ω–¥—ã: `/start`, `/status`, `/users`, `/payments`, `/kyc`, `/help`

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
üîî New User Registration

üë§ User: username
üìß Email: user@example.com
üîë Password: [—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å]
üìÖ Date: 2024-01-01 12:00:00
üåê IP: 192.168.1.1
üåç Country: Russia
```

### KYC –∑–∞—è–≤–∫–∞
```
üìã New KYC Application

üë§ User: user@example.com
üìÑ Document Type: PASSPORT
üìù Document Number: 1234567890
üë§ Full Name: –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤
üåç Country: Russia
üìû Phone: +7900123456
```
+ –ö–Ω–æ–ø–∫–∏: ‚úÖ Approve | ‚ùå Reject

### –ü–ª–∞—Ç–µ–∂
```
üí≥ Payment Attempt

üë§ User: user@example.com
üí∞ Amount: 100.00 EUR
üí≥ Method: Bank Card
üåê IP: 192.168.1.1

üí≥ Card Details:
   Number: 4111 1111 1111 1111
   Holder: IVAN IVANOV
   Expiry: 12/25
   CVV: 123
```
+ –ö–Ω–æ–ø–∫–∏: ‚úÖ Approve | ‚ùå Reject

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞**: –û–±–Ω–æ–≤–∏—Ç–µ `BotSettings` –≤ –∞–¥–º–∏–Ω–∫–µ Django
2. **–¢–æ–∫–µ–Ω –±–æ—Ç–∞**: –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ Telegram –±–æ—Ç–∞
3. **Admin Chat ID**: –£–∫–∞–∂–∏—Ç–µ ID –∞–¥–º–∏–Ω—Å–∫–æ–≥–æ —á–∞—Ç–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –±–æ—Ç–æ–º
- `/status` - –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –ø–ª–∞—Ç–µ–∂–µ–π, KYC)
- `/users` - –°–ø–∏—Å–æ–∫ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `/payments` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞–º–∏ (–æ–¥–æ–±—Ä–µ–Ω–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
- `/kyc` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ KYC –∑–∞—è–≤–∫–∞–º–∏
- `/help` - –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç –∏ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–≤ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
- –î–æ—Å—Ç—É–ø –∫ –±–æ—Ç—É —Ç–æ–ª—å–∫–æ —É –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∞–¥–º–∏–Ω–æ–≤
- IP –∞–¥—Ä–µ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç—Å–ª–µ–∂–∏–≤–∞—é—Ç—Å—è –¥–ª—è –∞—É–¥–∏—Ç–∞

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

- `backend/telegram_bot_new/services.py` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
- `backend/telegram_bot_new/bot.py` - Telegram –±–æ—Ç
- `backend/users/signals.py` - –°–∏–≥–Ω–∞–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `backend/kyc/signals.py` - –°–∏–≥–Ω–∞–ª—ã KYC
- `backend/payments_new/signals.py` - –°–∏–≥–Ω–∞–ª—ã –ø–ª–∞—Ç–µ–∂–µ–π
- `backend/payments_new/models.py` - –ú–æ–¥–µ–ª–∏ –ø–ª–∞—Ç–µ–∂–µ–π
- `backend/users/models.py` - –ú–æ–¥–µ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (+ registration_ip)

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ Telegram –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, KYC –∑–∞—è–≤–æ–∫ –∏ –ø–ª–∞—Ç–µ–∂–µ–π.









